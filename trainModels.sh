#!/bin/bash
#myPWD=$(pwd)
#cbArr1=("00162" "00163" "00164" "00165" "00166" "00167" "00168" "00169" "00170" "00171" "00172" "00173" "00174" "00175" "00176" "00177" "00178" "00179" "00180" "00181" "00182" "00183" "00184" "00185" "00186" "00187" "00188" "00189" "00190" "00191" "00192" "00193" "00194" "00195" "00196" "00197" "00198" "00199" "00200" "00201" "00202" "00203" "00204" "00205" "00206" "00207" "00208" "00209" "00210" "00211" "00212" "00213" "00214" "00215" "00216" "00217" "00218" "00219" "00220" "00221" "00222" "00223" "00224" "00225" "00226" "00227" "00228" "00229" "00230" "00231" "00232" "00233" "00234" "00235" "00236" "00237" "00238" "00239" "00240" "00241" "00242" "00243" "00244" "00245" "00246" "00247" "00248" "00249" "00250" "00251" "00252" "00253" "00254" "00255" "00256" "00257" "00258" "00259" "00260" "00261" "00262" "00263" "00264" "00265" "00266" "00267" "00268" "00269" "00270" "00271" "00272" "00273" "00274" "00275" "00276" "00277" "00278" "00279" "00280" "00281" "00282" "00283" "00284" "00285" "00286" "00287" "00288" "00289" "00290" "00291" "00292" "00293" "00294" "00295" "00296" "00297" "00298" "00299" "00300" "00301" "00302" "00303" "00304" "00305" "00306" "00307" "00308" "00309" "00310" "00311" "00312" "00313" "00314" "00315" "00316" "00317" "00318" "00319" "00320" "00321" "00322" "00323" "00324" "00325" "00326" "00327" "00328" "00329" "00330" "00331" "00332" "00333" "00334" "00335" "00336" "00337" "00338" "00339" "00340" "00341" "00342" "00343" "00344" "00345" "00346" "00347" "00348" "00349" "00350" "00351" "00352" "00353" "00354" "00355" "00356" "00357" "00358" "00359" "00360" "00361" "00362" "00363" "00364" "00365" "00366" "00367" "00368" "00369" "00370" "00371" "00372" "00373" "00374" "00375" "00376" "00377" "00378" "00379" "00380")
#cbArr2=("00381" "00382" "00383" "00384" "00385" "00386" "00387" "00388" "00389" "00390" "00391" "00392" "00393" "00394" "00395" "00396" "00397" "00398" "00399" "00400" "00401" "00402" "00403" "00404" "00405" "00406" "00407" "00408" "00409" "00410" "00411" "00412" "00413" "00414" "00415" "00416" "00417" "00418" "00419" "00420" "00421" "00422" "00423" "00424" "00425" "00426" "00427" "00428" "00429" "00430" "00431" "00432" "00433" "00434" "00435" "00436" "00437" "00438" "00439" "00440" "00441" "00442" "00443" "00444" "00445" "00446" "00447" "00448" "00449" "00450" "00451" "00452" "00453" "00454" "00455" "00456" "00457" "00458" "00459" "00460" "00461" "00462" "00463" "00464" "00465" "00466" "00467" "00468" "00469" "00470" "00471" "00472" "00473" "00474" "00475" "00476" "00477" "00478" "00479" "00480" "00481" "00482" "00483" "00484" "00485" "00486" "00487" "00488" "00489" "00490" "00491" "00492" "00493" "00494" "00495" "00496" "00497" "00498" "00499" "00500" "00626" "00627" "00628" "00629" "00630" "00631" "00632" "00633" "00634" "00635" "00636" "00637" "00638" "00639" "00640" "00641" "00642" "00643" "00644" "00645" "00646" "00647" "00648" "00649" "00650" "00651" "00652" "00653" "00654" "00655" "00656" "00657" "00658" "00659" "00660" "00661" "00662" "00663" "00664" "00665" "00666" "00667" "00668" "00669" "00670" "00671" "00672" "00673" "00674" "00675" "00676" "00677" "00678" "00679" "00680" "00681" "00682" "00683" "00684" "00685" "00686" "00687" "00688" "00689" "00690" "00691" "00692" "00693" "00694" "00695" "00696" "00697" "00698" "00699" "00700" "00701" "00702" "00703" "00704" "00705" "00706" "00707" "00708" "00709" "00710" "00711" "00712" "00713" "00714" "00715" "00716" "00717" "00718" "00719" "00720" "00721" "00722" "00723" "00724")
#for f in ${cbArr1[@]}; do
#	echo "'${f}',"
#done
#for f in ${cbArr2[@]}; do
#	echo "'${f}',"
#done
#exit 0
#./trainModels.sh coverage-error-call coverage-branches no-overflow termination valid-memcleanup valid-memsafety unreach-call

RED='\033[0;31m'
Green='\033[0;32m'
Yellow='\033[0;33m'
Blue='\033[0;34m'
Purple='\033[0;35m'
Cyan='\033[0;36m'
White='\033[0;37m'
NOCOLOR='\033[0m'

cd ./ml_test
catArr=("coverage-error-call" "coverage-branches" "no-overflow" "termination" "valid-memcleanup" "valid-memsafety" "unreach-call")
modelsArr=("./DTC.py" "./SVC.py" "./NNR.py")

for arg in "$@"; do
	if [ "$arg" != "coverage-error-call" ] && \
	[ "$arg" != "coverage-branches" ] && \
	[ "$arg" != "no-overflow" ] && \
	[ "$arg" != "termination" ] && \
	[ "$arg" != "valid-memcleanup" ] && \
	[ "$arg" != "valid-memsafety" ] && \
	[ "$arg" != "unreach-call" ]; then
		echo -e "${RED}invalid value of the first parameter $arg ${NOCOLOR}"
		echo " must be [coverage-error-call, coverage-branches, no-overflow, termination, valid-memcleanup, valid-memsafety, unreach-call] "
		exit 1
	fi
done

for arg in "$@"; do
	for m in ${modelsArr[@]}; do
		echo "***************************************"
		echo -e "${Green} ${m} -p ${arg} ${NOCOLOR}"
		${m} -p ${arg}
		echo "***************************************"
	done
done
cd ..
echo "$0 Done !!!"
exit 0

answer=y
echo "y -> yes"
echo "n -> No"
echo "ya -> Yes for all"
echo "na -> No for all"
if [ "$#" == "1" ]; then
	if [ "$1" == "ya" ]; then
		answer=ya
	fi
fi
for categ in ${catArr[@]}; do
	for m in ${modelsArr[@]}; do
	if [ "$answer" != "ya" ]; then
		read -p "${categ} : ${m} : y|n|ya|na?" answer
	fi
	if [ "$answer" == "y" ] || [ "$answer" == "ya" ]; then
		echo "***************************************"
		${m} -p ${categ}
		echo "***************************************"
	elif [ "$answer" == "na" ]; then
		cd ..
		echo "Bye ...."
		exit 0
	fi
	done
done
cd ..

echo "$0 Done !!!"
exit 0